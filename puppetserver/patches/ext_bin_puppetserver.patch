--- a/ext/bin/puppetserver	Tue Sep 29 12:43:27 2015
+++ b/ext/bin/puppetserver	Tue Sep 29 12:51:29 2015
@@ -1,21 +1,8 @@
 #!/bin/bash
 
-set -a
-if [ -r "/etc/default/puppetserver" ] ; then
-    . /etc/default/puppetserver
-elif [ -r "/etc/sysconfig/puppetserver" ] ; then
-    . /etc/sysconfig/puppetserver
-elif [ `uname` == "OpenBSD" ] ; then
-    JAVA_BIN=$(javaPathHelper -c puppetserver)
-    JAVA_ARGS="-Xms2g -Xmx2g -XX:MaxPermSize=256m"
-    USER="_puppet"
-    INSTALL_DIR="/opt/puppetlabs/server/apps/puppetserver"
-    CONFIG="/etc/puppetlabs/puppetserver/conf.d"
-else
-    echo "You seem to be missing some important configuration files; could not find /etc/default/puppetserver or /etc/sysconfig/puppetserver" >&2
-    exit 1
-fi
-set +a
+set -a -e
+. /etc/puppetlabs/puppetserver/default
+set +a +e
 
 CLI_DIR="${INSTALL_DIR}/cli"
 CLI_APP_DIR="${CLI_DIR}/apps"
